/* UI font */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* --- Mobile utilities --- */
@layer utilities {
  .stack-sm{ @apply flex flex-col gap-3 sm:flex-row sm:items-center; }
  .btn-row-3{ @apply grid grid-cols-3 gap-2 sm:flex sm:flex-row; }
  .btn-resp{ @apply w-full sm:w-auto px-3 py-2 text-sm sm:text-base rounded-lg; }
  .player-card{ @apply relative rounded-2xl border border-white/10 bg-white/5 p-4 shadow; }
}
/* === poker-app mobile utilities (do not remove) === */
@layer utilities {
  .stack-sm{ @apply flex flex-col gap-3 sm:flex-row sm:items-center; }
  .btn-row-3{ @apply grid grid-cols-3 gap-2 sm:flex sm:flex-row; }
  .btn-resp{ @apply w-full sm:w-auto px-3 py-2 text-sm sm:text-base rounded-lg; }
  .player-card{ @apply relative rounded-2xl border border-white/10 bg-white/5 p-4 shadow; }
}
/* === end poker-app mobile utilities === */

/* === iOS fullheight & safe-areas (PWA standalone) === */
html, body {
  height: 100%;
}
body {
  min-height: 100dvh;           /* better than 100vh on iOS */
  padding-top: env(safe-area-inset-top);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
}
#__next, #root { /* in case _app layout mounts here */
  min-height: 100%;
}

/* === UI POLISH PACK v1 === */
/* Design tokens */
:root{
  --bg:#0b0b0c;
  --surface:#101014;
  --card:#111217;
  --border:rgba(255,255,255,0.08);
  --text:#e6e6ea;
  --muted:#a1a1aa;
  --primary:#6366f1;          /* indigo-500 */
  --primary-600:#5458ee;
  --ring:rgba(99,102,241,0.35);
  --radius:16px;
  --radius-sm:12px;
  --radius-lg:24px;
  --shadow-1: 0 1px 1px rgba(0,0,0,0.5), 0 10px 25px rgba(0,0,0,0.35);
  --shadow-2: 0 0 0 1px rgba(255,255,255,0.05) inset, 0 20px 40px rgba(0,0,0,0.45);
}

/* Background + typography smoothing */
html,body{ background: var(--bg); color: var(--text); }
body{
  background:
    radial-gradient(700px 700px at 10% -20%, rgba(99,102,241,0.07), transparent 40%),
    radial-gradient(900px 900px at 110% 120%, rgba(16,185,129,0.05), transparent 45%),
    var(--bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  font-feature-settings: "tnum" on, "lnum" on;
}

/* Page container helper (اختیاری) */
.container{ width:min(1100px, 100% - 2rem); margin-inline:auto; }

/* Cards */
.card{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0));
  border:1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-1);
  padding:16px;
}
.card:hover{ border-color: rgba(255,255,255,0.12); }

/* Inputs */
.input, input[type="text"], input[type="number"], select, textarea{
  background: var(--card);
  border:1px solid var(--border);
  border-radius: var(--radius-sm);
  padding:10px 12px;
  color: var(--text);
  outline: none;
}
.input::placeholder, input::placeholder, textarea::placeholder{ color: var(--muted); }
.input:focus, input:focus, select:focus, textarea:focus{
  border-color: var(--primary);
  box-shadow: 0 0 0 3px var(--ring);
}

/* Buttons */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  gap:.5rem; padding:.55rem 1rem;
  border-radius: var(--radius-sm);
  border:1px solid transparent;
  font-weight:600; line-height:1;
  transition: transform .08s ease, background .15s ease, border-color .15s ease;
}
.btn:active{ transform: translateY(1px); }

.btn-primary{
  background: var(--primary);
  color:#fff;
  border-color: rgba(255,255,255,0.06);
}
.btn-primary:hover{ background: var(--primary-600); }

.btn-secondary{
  background: var(--surface);
  color:#fff;
  border-color: var(--border);
}
.btn-secondary:hover{ border-color: rgba(255,255,255,0.14); }

.btn-ghost{
  background: transparent;
  color:#fff;
  border:1px solid var(--border);
}
.btn-ghost:hover{ background: rgba(255,255,255,0.04); }

/* Number alignment for timers & amounts */
.tabular-nums{ font-variant-numeric: tabular-nums; }

/* Sticky glass header helper */
.header-glass{
  position: sticky; top: 0; z-index: 50;
  backdrop-filter: saturate(180%) blur(10px);
  -webkit-backdrop-filter: saturate(180%) blur(10px);
  background: rgba(11,11,12,0.7);
  border-bottom:1px solid var(--border);
}

/* List rows (players/sessions) */
.row{
  border:1px solid var(--border);
  border-radius: var(--radius);
  background: var(--surface);
  padding:12px 14px;
}
.row + .row{ margin-top:10px; }

/* Tiny muted label */
.label-muted{ color: var(--muted); font-size:.9rem; }

/* === UI base element styles (global) === */
* { box-sizing: border-box; }

:root { color-scheme: dark; }

body {
  font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
  line-height: 1.45;
}

h1, h2, h3 { letter-spacing: -0.01em; }
h1 { font-weight: 700; font-size: clamp(1.6rem, 3.8vw, 2.25rem); }
h2 { font-weight: 700; font-size: clamp(1.3rem, 3vw, 1.6rem); }
h3 { font-weight: 600; font-size: clamp(1.1rem, 2.2vw, 1.25rem); }

a {
  color: var(--text);
  text-decoration: none;
}
a:hover {
  color: #fff;
  text-decoration: underline;
  text-underline-offset: 3px;
}

/* Buttons — اعمال روی همهٔ <button> ها */
button {
  display:inline-flex; align-items:center; justify-content:center;
  gap:.5rem; padding:.55rem 1rem;
  border-radius: var(--radius-sm);
  border:1px solid var(--border);
  background: var(--surface);
  color:#fff; font-weight:600; line-height:1;
  transition: transform .08s ease, background .15s ease, border-color .15s ease;
}
button:hover { border-color: rgba(255,255,255,0.14); }
button:active { transform: translateY(1px); }

/* Inputs */
input[type="text"], input[type="number"], input[type="time"], select, textarea {
  background: var(--card);
  border:1px solid var(--border);
  border-radius: var(--radius-sm);
  padding:10px 12px; color: var(--text); outline:none;
}
input::placeholder, textarea::placeholder { color: var(--muted); }
input:focus, select:focus, textarea:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px var(--ring);
}

/* Tables (Ranking) */
table {
  width:100%;
  border-collapse: separate;
  border-spacing: 0;
  background: var(--surface);
  border:1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
}
th, td { padding:10px 12px; border-bottom:1px solid var(--border); }
th { text-align:left; background: rgba(255,255,255,0.02); font-weight:600; }
tr:last-child td { border-bottom: 0; }

/* Utility for numbers */
.tabular-nums { font-variant-numeric: tabular-nums; }

/* === Icon buttons & chip selection (mobile polish) === */
/* آیکن‌های داخل دکمه‌ها کوچک و متناسب */
.row button svg, .row button .icon { width: 18px; height: 18px; }

/* دکمه‌هایی که فقط آیکن دارند */
.row button:has(svg), .row button:has(.icon) {
  padding: .4rem;
  width: 40px; height: 40px;
  border-radius: 12px;
}

/* دکمه‌های معمولی در کارت‌ها */
.row button { padding: .55rem .9rem; border-radius: 12px; }

/* موبایل خیلی کوچک */
@media (max-width: 420px){
  .row button { padding: .5rem .75rem; }
  .row button:has(svg), .row button:has(.icon){ width: 36px; height: 36px; }
}

/* چیپ انتخاب بازیکن‌ها (New Session) — حالت انتخاب‌شده */
button[aria-pressed="true"],
button[aria-checked="true"],
button[data-selected="true"],
button.selected, .chip.is-selected {
  background: var(--primary);
  color: #fff;
  border-color: rgba(255,255,255,0.16);
  box-shadow: 0 0 0 3px var(--ring);
}

/* چیپ‌های غیرفعال/ناتمام */
button[disabled], button[aria-disabled="true"]{
  opacity: .6;
}

/* === Mobile Icon Sizing (global, CSS-only) === */
:root{
  --icon-size: 18px;     /* default */
  --icon-btn: 40px;      /* default square button (icon-only) */
  --icon-radius: 12px;
}
@media (max-width: 420px){
  :root{
    --icon-size: 16px;   /* smaller icons on small phones */
    --icon-btn: 36px;    /* smaller square */
  }
}

/* اندازه‌ی خودِ آیکن‌ها (هر SVG یا .icon داخل دکمه‌ها) */
button svg,
button .icon{
  width: var(--icon-size);
  height: var(--icon-size);
}

/* دکمه‌های «فقط آیکن» (بدون متن) — auto-detect با :has */
/* Safari iOS از :has پشتیبانی می‌کند */
button[aria-label],
button[title],
button:has(svg):not(:has(span, .label, .text)){
  width: var(--icon-btn);
  height: var(--icon-btn);
  padding: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--icon-radius);
}

/* نمونهٔ رایج: دکمه‌های حذف/سطل */
button[title*="Delete"],
button[aria-label*="Delete"]{
  width: var(--icon-btn);
  height: var(--icon-btn);
}

/* فاصله‌های کناری آیکن‌ها وقتی داخل ردیف کارت هستند */
.row button[aria-label],
.row button[title],
.row button:has(svg):not(:has(span, .label, .text)){
  margin-left: .25rem;
}

/* اگر آیکن‌ها داخل لینک‌ها هم بودند */
a:has(svg) > svg { width: var(--icon-size); height: var(--icon-size); }

/* جلوگیری از «از کادر زدن بیرون» در کارت‌های موبایل */
@media (max-width: 420px){
  .row{
    padding: 12px;
  }
  .row > *{
    min-width: 0;  /* اجازهٔ جمع شدن آیتم‌ها */
  }
}

/* === Mobile action buttons polish (players cards) === */
.row .btn,
.row button{
  white-space: nowrap;      /* جلوگیری از رفتن Buy-in به دو خط */
  hyphens: none;
  border-radius: 14px;
  padding: .5rem .9rem;
  min-height: 40px;         /* tap-target مناسب */
  margin-right: .5rem;      /* فاصله بین دکمه‌ها */
  margin-bottom: .5rem;     /* اجازه‌ی wrap تمیز وقتی جا کم است */
}

@media (max-width: 420px){
  .row .btn,
  .row button{
    font-size: 15px;
    padding: .5rem .8rem;
    min-height: 38px;
  }
  /* فضای سمت راست برای آیکن سطل که معمولا absolute است */
  .row{ padding-right: 64px; }
}

/* آیکن‌های داخل دکمه‌ها */
.row button svg,
.row button .icon{
  width: 16px;
  height: 16px;
}

/* === Player Card layout v2 (grid actions) === */
.row {
  position: relative;
  border-radius: 20px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0)) , var(--surface);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-1);
  padding: 14px 16px;
}

/* ردیف دکمه‌ها: ظرفی که دقیقا 3 دکمه داخلش دارد را پیدا کن و سه‌ستونه کن */
.row > :has(> button + button + button) {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: .6rem;
  padding-right: 64px; /* جا برای دکمهٔ سطل سمت راست */
  align-items: center;
  margin-bottom: .6rem;
}

/* خود دکمه‌ها در آن ردیف */
.row > :has(> button + button + button) > button {
  width: 100%;
  justify-content: center;
  white-space: nowrap;
  word-break: keep-all;
  hyphens: none;
  min-height: 40px;
  border-radius: 14px;
  padding: .5rem .8rem;
  font-weight: 600;
}

/* آیکن سطل (دکمهٔ فقط‌آیکن) ثابت در راستای کارت */
.row button[title*="Delete"],
.row button[aria-label*="Delete"],
.row button:has(svg[aria-hidden="true"]) {
  position: absolute;
  top: 14px;
  right: 12px;
  width: 40px; height: 40px; padding: 0;
  border-radius: 12px;
}

/* ردیف توضیحات پایین کارت (Buy-ins… Net…) */
.row :where(.label-muted, small, p){
  color: var(--muted);
  font-size: .95rem;
}
.row :where(.label-muted, small, p) b{
  color: #fff;
}

/* موبایل خیلی باریک */
@media (max-width: 420px){
  .row { padding: 12px 14px; }
  .row > :has(> button + button + button){ gap: .5rem; padding-right: 60px; }
  .row > :has(> button + button + button) > button{ min-height: 38px; font-size: 15px; }
  .row button[title*="Delete"],
  .row button[aria-label*="Delete"],
  .row button:has(svg[aria-hidden="true"]) { width: 36px; height: 36px; top: 12px; right: 10px; }
}

/* === Generic three-action row + safe delete icon, no JSX changes === */

/* متن دکمه‌ها هرگز به دو خط نشکند (Buy-in یک خط بماند) */
button { white-space: nowrap; }

/* هر ظرفی که دقیقا سه دکمهٔ هم‌سطح دارد را سه‌ستونه کن */
:is(main, body, #__next)
  :is(div, section, article, li, nav)
  :has(> button + button + button):not(:has(> button:nth-child(4))) {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: .6rem;
  align-items: center;
  margin-bottom: .6rem;
  padding-right: 64px; /* جا برای دکمهٔ سطل در راست */
}

/* خود دکمه‌های آن ردیف */
:is(main, body, #__next)
  :is(div, section, article, li, nav)
  :has(> button + button + button):not(:has(> button:nth-child(4))) > button {
  width: 100%;
  justify-content: center;
  min-height: 40px;
  border-radius: 14px;
  padding: .5rem .8rem;
  font-weight: 600;
}

/* اگر داخل موبایل خیلی باریک شد */
@media (max-width: 420px){
  :is(main, body, #__next)
    :is(div, section, article, li, nav)
    :has(> button + button + button):not(:has(> button:nth-child(4))) > button {
    min-height: 38px;
    font-size: 15px;
  }
}

/* هر کارتی که یک دکمهٔ سطل به صورت فرزند مستقیم دارد: relative + فضای راست */
:is(div, section, article, li)
  :is(&) {}

/* موقعیت‌دهی خود دکمهٔ سطل (icon-only) */
:is(div, section, article, li):has(> button[title*="Delete"], > button[aria-label*="Delete"]) {
  position: relative;
  padding-right: 64px;
}
button[title*="Delete"],
button[aria-label*="Delete"]{
  position: absolute;
  top: 12px;
  right: 12px;
  width: 40px; height: 40px; padding: 0;
  border-radius: 12px;
}

/* آیکن داخل دکمه‌ها کمی کوچک‌تر */
button svg, button .icon { width: 16px; height: 16px; }

/* === Player card: extend box to include trash icon area === */
:root{
  --card-extra-right: 64px;   /* فضای سمت راست برای آیکن سطل */
}

 /* فقط کارت‌هایی که داخل‌شان ردیف 3 دکمه داریم (Buy-in/Rebuy/Cashout) را هدف بگیر */
.row:has(> :has(> button + button + button)){
  position: relative;
  /* کارت را از سمت راست کمی بزرگ‌تر کن تا آیکن سطل هم داخل باکس بیفتد */
  margin-right: calc(var(--card-extra-right) * -1);
  padding-right: calc(16px + var(--card-extra-right));
}

/* خود آیکن سطل داخل همین محدوده بماند (اگر مطلق شده) */
.row:has(> :has(> button + button + button)) > button[title*="Delete"],
.row:has(> :has(> button + button + button)) > button[aria-label*="Delete"]{
  position: absolute;
  top: 14px;
  right: 12px;
  width: 40px; height: 40px;
  padding: 0; border-radius: 12px;
}

/* موبایل خیلی باریک */
@media (max-width: 420px){
  :root{ --card-extra-right: 60px; }
  .row:has(> :has(> button + button + button)){
    padding-right: calc(12px + var(--card-extra-right));
  }
  .row:has(> :has(> button + button + button)) > button[title*="Delete"],
  .row:has(> :has(> button + button + button)) > button[aria-label*="Delete"]{
    top: 12px; right: 10px; width: 36px; height: 36px;
  }
}
